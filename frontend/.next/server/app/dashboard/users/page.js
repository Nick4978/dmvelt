(()=>{var e={};e.id=618,e.ids=[618],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3164:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(482),a=s(9108),n=s(2563),l=s.n(n),i=s(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["dashboard",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6271)),"C:\\Projects\\VSCode\\dmvelt\\frontend\\app\\dashboard\\users\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6339)),"C:\\Projects\\VSCode\\dmvelt\\frontend\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6408)),"C:\\Projects\\VSCode\\dmvelt\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Projects\\VSCode\\dmvelt\\frontend\\app\\dashboard\\users\\page.tsx"],h="/dashboard/users/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/users/page",pathname:"/dashboard/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4211:(e,t,s)=>{Promise.resolve().then(s.bind(s,5840)),Promise.resolve().then(s.bind(s,3709))},209:(e,t,s)=>{Promise.resolve().then(s.bind(s,3699))},987:(e,t,s)=>{Promise.resolve().then(s.bind(s,7791))},4807:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},5840:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AuthProvider:()=>i,useAuth:()=>o});var r=s(5344),a=s(3729),n=s(8428);let l=(0,a.createContext)({user:null,loading:!0,logout:()=>{}});function i({children:e}){let[t,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),d=(0,n.useRouter)();(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:4000/auth/check",{method:"GET",credentials:"include"});if(!e.ok)throw Error("Not logged in");console.log("Not Logged In!");let t=await e.json();s({id:t.userId,name:t.name,role:t.role})}catch{s(null)}finally{o(!1)}})()},[]);let c=async()=>{await fetch("http://localhost:4000/auth/logout",{method:"POST",credentials:"include"}),s(null),d.push("/login")};return r.jsx(l.Provider,{value:{user:t,loading:i,logout:c},children:e})}function o(){return(0,a.useContext)(l)}},3699:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(5344),a=s(6506),n=s(8428),l=s(5840),i=s(3729),o=s(2273),d=s(9388),c=s(7121),h=s(1700),u=s(9895),p=s(8120),x=s(8200);function m({children:e}){let{user:t,logout:s}=(0,l.useAuth)(),m=(0,n.usePathname)(),[f,g]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!1);if(!t)return null;let j=[];"user"===t.role&&j.push({label:"Dashboard",href:"/dashboard",icon:r.jsx(o.Z,{size:18})},{label:"My Liens",href:"/dashboard/liens",icon:r.jsx(d.Z,{size:18})}),"admin"===t.role&&j.push({label:"Liens",icon:r.jsx(c.Z,{size:18}),children:[{label:"Show All",href:"/dashboard/liens"},{label:"Add New",href:"/dashboard/liens/new"},{label:"Find Lien",href:"/dashboard/liens/search"}]},{label:"Dealers",icon:r.jsx(h.Z,{size:18}),children:[{label:"Show All",href:"/dashboard/dealers"},{label:"Add New",href:"/dashboard/dealers/new"},{label:"Find Dealer",href:"/dashboard/dealers/search"}]},{label:"Users",icon:r.jsx(u.Z,{size:18}),children:[{label:"Show All",href:"/dashboard/users"},{label:"Add New",href:"/dashboard/users/new"},{label:"Find Dealer",href:"/dashboard/users/search"}]});let v=e=>(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-800 p-4",children:[r.jsx("h2",{className:"text-white",children:"admin"===t.role?"Admin Menu":"User Menu"}),r.jsx("button",{onClick:()=>e?y(!1):g(!f),className:"text-white",children:"✕"})]}),r.jsx("nav",{className:"flex-1 overflow-y-auto space-y-2 p-4",children:j.map((e,t)=>e.children?r.jsx(k,{item:e,pathname:m,isCollapsed:f},t):(0,r.jsxs)(a.default,{href:e.href,className:`flex items-center gap-2 px-4 py-2 rounded hover:bg-gray-700 transition ${m===e.href?"bg-gray-800":""}`,children:[e.icon,!f&&r.jsx("span",{children:e.label})]},e.href))}),(0,r.jsxs)("div",{className:"p-4 border-t border-gray-800 text-sm",children:[(0,r.jsxs)("div",{className:"text-white mb-2",children:["Logged in as: ",r.jsx("strong",{children:t.name})]}),(0,r.jsxs)("button",{onClick:s,className:"w-full flex items-center gap-2 bg-red-600 hover:bg-red-700 py-1 px-3 rounded text-white",children:[r.jsx(p.Z,{size:16})," Logout"]})]})]});function k({item:e,pathname:t,isCollapsed:s}){let[n,l]=(0,i.useState)(!1);return(0,r.jsxs)("div",{className:"text-white",children:[(0,r.jsxs)("button",{onClick:()=>l(!n),className:`w-full flex items-center justify-between gap-2 px-4 py-2 rounded hover:bg-gray-700 transition ${n?"bg-gray-800":""}`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon,!s&&r.jsx("span",{children:e.label})]}),!s&&r.jsx("span",{children:n?"▲":"▼"})]}),n&&!s&&r.jsx("div",{className:"ml-6 mt-1",children:e.children.map(e=>r.jsx(a.default,{href:e.href,className:`block px-2 py-1 rounded hover:bg-gray-600 text-sm ${t===e.href?"bg-gray-700":""}`,children:e.label},e.href))})]})}return(0,r.jsxs)("div",{className:"min-h-screen flex",children:[r.jsx("div",{className:`fixed inset-0 z-40 bg-gray-900 transition-transform duration-300 md:hidden ${b?"translate-x-0":"-translate-x-full"}`,children:r.jsx("aside",{className:"w-64 h-full shadow-lg",children:v(!0)})}),r.jsx("aside",{className:`hidden md:block fixed top-0 left-0 h-screen z-40 w-64
    bg-gray-900 text-white transition-transform duration-300 ${f?"-translate-x-full":"translate-x-0"}`,children:v(!1)}),(0,r.jsxs)("main",{className:`flex-1 bg-gray-50 min-h-screen transition-all duration-300 ${f?"md:ml-0":"md:ml-64"}`,children:[(0,r.jsxs)("div",{className:"p-4 bg-white shadow flex items-center justify-between",children:[r.jsx("button",{onClick:()=>{window.innerWidth<768?y(!0):g(e=>!e)},className:"text-gray-600",children:r.jsx(x.Z,{size:24})}),r.jsx("span",{})]}),r.jsx("div",{className:"p-6",children:e})]})]})}},7791:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5344),a=s(3729),n=s(5840),l=s(6506),i=s(8428);function o(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(1),[o,d]=(0,a.useState)(25),[c,h]=(0,a.useState)(0),[u,p]=(0,a.useState)(!0),[x,m]=(0,a.useState)([]),[f,g]=(0,a.useState)(""),[b,y]=(0,a.useState)(""),[j,v]=(0,a.useState)(""),[k,w]=(0,a.useState)(null),[C,N]=(0,a.useState)(!0),P=(0,a.useRef)(null);(0,a.useEffect)(()=>{(async()=>{p(!0);try{let e=new URLSearchParams({page:String(s),limit:String(o),search:b}),r=await fetch(`http://localhost:4000/users/get?${e.toString()}`,{method:"GET",credentials:"include"});if(!r.ok)throw Error("Failed to fetch users");let a=await r.json();t(a.users),h(a.totalPages)}catch(e){console.error("Error fetching users:",e)}finally{p(!1)}})()},[s,o,b]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{y(j),n(1)},300);return()=>clearTimeout(e)},[j]);let S=e=>{m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},M=x.length>0&&x.length===e.length;x.length,(0,a.useEffect)(()=>{P.current&&(P.current.indeterminate=x.length>0&&!M)},[x,M]);let A=(0,i.useRouter)(),Z=[...e].sort((e,t)=>{if(!k)return 0;let s=(e,t)=>{switch(t){case"user.name":return e.name;case"user.address":return e.address;case"user.city":return e.city;case"user.state":return e.state;case"user.zipCode":return e.zipCode;default:return e[t]}},r=s(e,k),a=s(t,k);return"number"==typeof r&&"number"==typeof a?C?r-a:a-r:C?String(r).localeCompare(String(a)):String(a).localeCompare(String(r))}),_=(0,i.usePathname)();return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mt-6",children:[(0,r.jsxs)("div",{className:"flex justify-end mb-4",children:[r.jsx("label",{className:"text-sm mr-2 self-center",children:"Items per page"}),(0,r.jsxs)("select",{value:o,onChange:e=>{d(Number(e.target.value)),n(1)},className:"border rounded px-2 py-1 text-sm border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:25,children:"25"}),r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"})]})]}),(0,r.jsxs)("table",{className:"min-w-full text-sm text-left",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-100 text-xs uppercase text-gray-600",children:[r.jsx("th",{className:"p-2",children:r.jsx("input",{ref:P,type:"checkbox",checked:M,onChange:()=>{M?m([]):m(e.map(e=>e.id))},onClick:e=>e.stopPropagation()})}),(0,r.jsxs)("th",{onClick:()=>{"user.name"===k?N(!C):(w("user.name"),N(!0))},className:"p-2 cursor-pointer select-none",children:["Name ","user.name"===k&&(C?"▲":"▼"),r.jsx("input",{type:"text",placeholder:"[...]",value:j,onChange:e=>{e.stopPropagation(),v(e.target.value)},onClick:e=>e.stopPropagation(),className:"bg-gray-100 rounded px-2 py-1 text-sm border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("th",{onClick:()=>{"user.address"===k?N(!C):(w("user.address"),N(!0))},className:"p-2 cursor-pointer select-none text-center",children:["Address ","user.address"===k&&(C?"▲":"▼")]}),(0,r.jsxs)("th",{onClick:()=>{"user.city"===k?N(!C):(w("user.city"),N(!0))},className:"p-2 cursor-pointer select-none",children:["City ","user.city"===k&&(C?"▲":"▼")]}),(0,r.jsxs)("th",{onClick:()=>{"user.state"===k?N(!C):(w("user.state"),N(!0))},className:"p-2 cursor-pointer select-none",children:["State ","user.state"===k&&(C?"▲":"▼")]}),(0,r.jsxs)("th",{onClick:()=>{"user.zipCode"===k?N(!C):(w("user.zipCode"),N(!0))},className:"p-2 cursor-pointer select-none",children:["Zip Code ","user.zipCode"===k&&(C?"▲":"▼")]})]})}),r.jsx("tbody",{children:Z.map(e=>(0,r.jsxs)("tr",{onClick:()=>A.push(`${_}/user/${e.id}`),className:"border-b hover:bg-blue-100 transition-colors",children:[r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"checkbox",checked:x.includes(e.id),onChange:()=>S(e.id),onClick:e=>e.stopPropagation()})}),r.jsx("td",{className:"p-2",children:r.jsx(l.default,{href:`${_}/users/${e.id}`,className:"text-blue-600 hover:underline",children:e.name})}),r.jsx("td",{className:"p-2",children:e.address}),r.jsx("td",{className:"p-2",children:e.city}),r.jsx("td",{className:"p-2 text-center",children:e.state}),r.jsx("td",{className:"p-2",children:e.zipCode})]},e.id))})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",s," of ",c]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>n(e=>Math.max(e-1,1)),disabled:1===s,className:"px-3 py-1 bg-gray-200 rounded text-sm disabled:opacity-50",children:"Previous"}),r.jsx("button",{onClick:()=>n(e=>Math.min(e+1,c)),disabled:s===c,className:"px-3 py-1 bg-gray-200 rounded text-sm disabled:opacity-50",children:"Next"})]})]})]})}function d(){let{user:e}=(0,n.useAuth)(),[t,s]=(0,a.useState)([]),[l,i]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{fetch("http://localhost:4000/users/getall",{method:"GET",credentials:"include"}).then(e=>e.json()).then(e=>{s(e.users),i(!1)})},[]),l)?r.jsx("div",{children:"Loading users..."}):(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),r.jsx(o,{})]})}},3709:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(5344),a=s(2171);function n(){return r.jsx(a.default,{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDqr2p8tCxDffdChJaEnL7B3Af62KV4m0c&libraries=places",strategy:"afterInteractive",onLoad:()=>console.log("✅ Google Maps script loaded"),onError:()=>console.error("❌ Google Maps script failed to load")})}},7075:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var r=s(3729);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),l=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:l,iconNode:c,...h},u)=>(0,r.createElement)("svg",{ref:u,...d,width:t,height:t,stroke:e,strokeWidth:a?24*Number(s)/Number(t):s,className:i("lucide",n),...!l&&!o(h)&&{"aria-hidden":"true"},...h},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(l)?l:[l]])),h=(e,t)=>{let s=(0,r.forwardRef)(({className:s,...n},o)=>(0,r.createElement)(c,{ref:o,iconNode:t,className:i(`lucide-${a(l(e))}`,`lucide-${e}`,s),...n}));return s.displayName=l(e),s}},1700:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(7075).Z)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},7121:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(7075).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9388:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(7075).Z)("folder-kanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]])},2273:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(7075).Z)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},8120:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(7075).Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},8200:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(7075).Z)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},9895:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(7075).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},6339:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});let r=(0,s(6843).createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\app\dashboard\layout.tsx`),{__esModule:a,$$typeof:n}=r,l=r.default},6271:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});let r=(0,s(6843).createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\app\dashboard\users\page.tsx`),{__esModule:a,$$typeof:n}=r,l=r.default},6408:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x,metadata:()=>p});var r=s(5036);s(7633);var a=s(6843);let n=(0,a.createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\app\context\AuthContext.tsx`),{__esModule:l,$$typeof:i}=n;n.default;let o=(0,a.createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\app\context\AuthContext.tsx#AuthProvider`);(0,a.createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\app\context\AuthContext.tsx#useAuth`);let d=(0,a.createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\components\GoogleMapsLoader.tsx`),{__esModule:c,$$typeof:h}=d,u=d.default,p={title:"Next.js",description:"Generated by Next.js"};function x({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{children:[r.jsx(u,{}),r.jsx(o,{children:e})]})})}},7633:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[770,506],()=>s(3164));module.exports=r})();
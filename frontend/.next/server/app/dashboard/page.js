(()=>{var e={};e.id=702,e.ids=[702],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},372:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(482),a=s(9108),n=s(2563),l=s.n(n),i=s(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9865)),"C:\\Projects\\VSCode\\dmvelt\\frontend\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6339)),"C:\\Projects\\VSCode\\dmvelt\\frontend\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6408)),"C:\\Projects\\VSCode\\dmvelt\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Projects\\VSCode\\dmvelt\\frontend\\app\\dashboard\\page.tsx"],u="/dashboard/page",h={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2479:(e,t,s)=>{Promise.resolve().then(s.bind(s,2835))},2835:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(5344),a=s(4316),n=s(3729),l=s(8428),i=s(9927),o=s(5622),d=s(7121),c=s(6135),u=s(6262);function h({readFlag:e}){let[t,s]=(0,n.useState)([]),[a,h]=(0,n.useState)(1),[x,m]=(0,n.useState)(25),[p,g]=(0,n.useState)(0),[b,f]=(0,n.useState)(!0),[v,j]=(0,n.useState)([]),[y,S]=(0,n.useState)(null),[w,P]=(0,n.useState)(""),[N,C]=(0,n.useState)(null),[_,D]=(0,n.useState)(""),[q,E]=(0,n.useState)(""),k={0:{label:"Lien Received",color:"bg-gray-200 text-gray-800",icon:"\uD83D\uDCE5",tooltip:"The lien has been received but not processed.",jsx:r.jsx(o.Z,{size:12})},1:{label:"Satisfy Submitted",color:"bg-yellow-200 text-yellow-800",icon:"\uD83D\uDCDD",tooltip:"Satisfy paperwork submitted but not sent yet.",jsx:r.jsx(d.Z,{size:12})},2:{label:"Satisfy Sent",color:"bg-blue-200 text-blue-800",icon:"\uD83D\uDCE4",tooltip:"Satisfy documents sent to lienholder.",jsx:r.jsx(c.Z,{size:12})},3:{label:"Satisfy Confirmed",color:"bg-green-200 text-green-800",icon:"✅",tooltip:"Lien has been satisfied and confirmed.",jsx:r.jsx(u.Z,{size:12})}},[R,$]=(0,n.useState)(null),[F,Z]=(0,n.useState)(!0),A=(0,n.useRef)(null);(0,n.useEffect)(()=>{(async()=>{f(!0);try{let t=new URLSearchParams({page:String(a),limit:String(x),search:_});null!==N&&t.append("status",N.toString());let r=await fetch(`http://localhost:4000/liens/getall?readFlag=${e??!1}&${t.toString()}`,{method:"GET",credentials:"include"});if(!r.ok)throw Error("Failed to fetch liens");let n=await r.json();s(n.liens),g(n.totalPages)}catch(e){console.error("Error fetching liens:",e)}finally{f(!1)}})()},[e,a,x,N,_]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{D(q),h(1)},300);return()=>clearTimeout(e)},[q]);let G=v.length>0&&v.length===t.length;v.length,(0,n.useEffect)(()=>{A.current&&(A.current.indeterminate=v.length>0&&!G)},[v,G]);let M=(0,l.useRouter)(),T=[...t].sort((e,t)=>{if(!R)return 0;let s=(e,t)=>{switch(t){case"vehicle.vin":return e.vehicle.vin;case"vehicle.make":return e.vehicle.make;case"vehicle.model":return e.vehicle.model;case"vehicle.year":return e.vehicle.year;default:return e[t]}},r=s(e,R),a=s(t,R);return"number"==typeof r&&"number"==typeof a?F?r-a:a-r:F?String(r).localeCompare(String(a)):String(a).localeCompare(String(r))}),V=(0,l.usePathname)();return r.jsx("div",{className:"md:hidden space-y-4 mt-4",children:T.map(e=>(0,r.jsxs)("div",{className:"border rounded-lg p-4 bg-white shadow-sm",onClick:()=>M.push(`${V}/liens/${e.id}`),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("div",{className:"text-xs text-gray-500",children:(0,i.WU)(new Date(e.createdAt),"M/d/yyyy p")}),r.jsx("div",{className:`text-xs font-semibold ${k[e.status]?.color}`,children:k[e.status]?.label})]}),r.jsx("div",{className:"text-sm font-bold",children:e.vehicle.vin}),(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:[e.vehicle.year," ",e.vehicle.make," ",e.vehicle.model]}),(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[r.jsx("button",{className:"text-blue-600 hover:underline",children:"Request"}),r.jsx("button",{className:"text-green-600 hover:underline",children:"Satisfy"}),r.jsx("button",{className:"text-red-600 hover:underline",children:"Report"})]})]},e.id))})}function x(){return r.jsx("div",{className:"min-h-screen flex bg-gray-100",children:(0,r.jsxs)("main",{className:"flex-1 p-6",children:[(0,r.jsxs)("header",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Welcome! Here’s a summary of your liens."})]}),(0,r.jsxs)("div",{className:"w-full table-auto border-collapse md:table hidden",children:[r.jsx("section",{className:"bg-white rounded-lg shadow p-4",children:r.jsx(a.Z,{readFlag:!1})}),r.jsx("section",{className:"bg-white rounded-lg shadow p-4 mt-6",children:r.jsx(a.Z,{readFlag:!0})})]}),(0,r.jsxs)("div",{className:"md:hidden space-y-4",children:[r.jsx("section",{className:"bg-white rounded-lg shadow p-4",children:r.jsx(h,{readFlag:!1})}),r.jsx("section",{className:"bg-white rounded-lg shadow p-4 mt-6",children:r.jsx(h,{readFlag:!0})})]})]})})}},9865:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});let r=(0,s(6843).createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\app\dashboard\page.tsx`),{__esModule:a,$$typeof:n}=r,l=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[770,506,399,207],()=>s(372));module.exports=r})();
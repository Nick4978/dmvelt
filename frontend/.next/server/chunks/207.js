exports.id=207,exports.ids=[207],exports.modules={4211:(e,t,s)=>{Promise.resolve().then(s.bind(s,5840)),Promise.resolve().then(s.bind(s,3709))},209:(e,t,s)=>{Promise.resolve().then(s.bind(s,3699))},4807:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},5840:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AuthProvider:()=>i,useAuth:()=>o});var l=s(5344),r=s(3729),a=s(8428);let n=(0,r.createContext)({user:null,loading:!0,logout:()=>{}});function i({children:e}){let[t,s]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),c=(0,a.useRouter)();(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:4000/auth/check",{method:"GET",credentials:"include"});if(!e.ok)throw Error("Not logged in");console.log("Not Logged In!");let t=await e.json();s({id:t.userId,name:t.name,role:t.role})}catch{s(null)}finally{o(!1)}})()},[]);let d=async()=>{await fetch("http://localhost:4000/auth/logout",{method:"POST",credentials:"include"}),s(null),c.push("/login")};return l.jsx(n.Provider,{value:{user:t,loading:i,logout:d},children:e})}function o(){return(0,r.useContext)(n)}},3699:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var l=s(5344),r=s(6506),a=s(8428),n=s(5840),i=s(3729),o=s(2273),c=s(9388),d=s(7121),h=s(1700),u=s(9895),x=s(8120),m=s(8200);function p({children:e}){let{user:t,logout:s}=(0,n.useAuth)(),p=(0,a.usePathname)(),[b,g]=(0,i.useState)(!1),[f,j]=(0,i.useState)(!1);if(!t)return null;let v=[];"user"===t.role&&v.push({label:"Dashboard",href:"/dashboard",icon:l.jsx(o.Z,{size:18})},{label:"My Liens",href:"/dashboard/liens",icon:l.jsx(c.Z,{size:18})}),"admin"===t.role&&v.push({label:"Liens",icon:l.jsx(d.Z,{size:18}),children:[{label:"Show All",href:"/dashboard/liens"},{label:"Add New",href:"/dashboard/liens/new"},{label:"Find Lien",href:"/dashboard/liens/search"}]},{label:"Dealers",icon:l.jsx(h.Z,{size:18}),children:[{label:"Show All",href:"/dashboard/dealers"},{label:"Add New",href:"/dashboard/dealers/new"},{label:"Find Dealer",href:"/dashboard/dealers/search"}]},{label:"Users",icon:l.jsx(u.Z,{size:18}),children:[{label:"Show All",href:"/dashboard/users"},{label:"Add New",href:"/dashboard/users/new"},{label:"Find Dealer",href:"/dashboard/users/search"}]});let y=e=>(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-800 p-4",children:[l.jsx("h2",{className:"text-white",children:"admin"===t.role?"Admin Menu":"User Menu"}),l.jsx("button",{onClick:()=>e?j(!1):g(!b),className:"text-white",children:"✕"})]}),l.jsx("nav",{className:"flex-1 overflow-y-auto space-y-2 p-4",children:v.map((e,t)=>e.children?l.jsx(N,{item:e,pathname:p,isCollapsed:b},t):(0,l.jsxs)(r.default,{href:e.href,className:`flex items-center gap-2 px-4 py-2 rounded hover:bg-gray-700 transition ${p===e.href?"bg-gray-800":""}`,children:[e.icon,!b&&l.jsx("span",{children:e.label})]},e.href))}),(0,l.jsxs)("div",{className:"p-4 border-t border-gray-800 text-sm",children:[(0,l.jsxs)("div",{className:"text-white mb-2",children:["Logged in as: ",l.jsx("strong",{children:t.name})]}),(0,l.jsxs)("button",{onClick:s,className:"w-full flex items-center gap-2 bg-red-600 hover:bg-red-700 py-1 px-3 rounded text-white",children:[l.jsx(x.Z,{size:16})," Logout"]})]})]});function N({item:e,pathname:t,isCollapsed:s}){let[a,n]=(0,i.useState)(!1);return(0,l.jsxs)("div",{className:"text-white",children:[(0,l.jsxs)("button",{onClick:()=>n(!a),className:`w-full flex items-center justify-between gap-2 px-4 py-2 rounded hover:bg-gray-700 transition ${a?"bg-gray-800":""}`,children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon,!s&&l.jsx("span",{children:e.label})]}),!s&&l.jsx("span",{children:a?"▲":"▼"})]}),a&&!s&&l.jsx("div",{className:"ml-6 mt-1",children:e.children.map(e=>l.jsx(r.default,{href:e.href,className:`block px-2 py-1 rounded hover:bg-gray-600 text-sm ${t===e.href?"bg-gray-700":""}`,children:e.label},e.href))})]})}return(0,l.jsxs)("div",{className:"min-h-screen flex",children:[l.jsx("div",{className:`fixed inset-0 z-40 bg-gray-900 transition-transform duration-300 md:hidden ${f?"translate-x-0":"-translate-x-full"}`,children:l.jsx("aside",{className:"w-64 h-full shadow-lg",children:y(!0)})}),l.jsx("aside",{className:`hidden md:block fixed top-0 left-0 h-screen z-40 w-64
    bg-gray-900 text-white transition-transform duration-300 ${b?"-translate-x-full":"translate-x-0"}`,children:y(!1)}),(0,l.jsxs)("main",{className:`flex-1 bg-gray-50 min-h-screen transition-all duration-300 ${b?"md:ml-0":"md:ml-64"}`,children:[(0,l.jsxs)("div",{className:"p-4 bg-white shadow flex items-center justify-between",children:[l.jsx("button",{onClick:()=>{window.innerWidth<768?j(!0):g(e=>!e)},className:"text-gray-600",children:l.jsx(m.Z,{size:24})}),l.jsx("span",{})]}),l.jsx("div",{className:"p-6",children:e})]})]})}},3709:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var l=s(5344),r=s(2171);function a(){return l.jsx(r.default,{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDqr2p8tCxDffdChJaEnL7B3Af62KV4m0c&libraries=places",strategy:"afterInteractive",onLoad:()=>console.log("✅ Google Maps script loaded"),onError:()=>console.error("❌ Google Maps script failed to load")})}},4316:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var l=s(5344),r=s(3729),a=s(6506),n=s(8428),i=s(9927),o=s(5622),c=s(7121),d=s(6135),h=s(6262);function u({readFlag:e}){let[t,s]=(0,r.useState)([]),[u,x]=(0,r.useState)(1),[m,p]=(0,r.useState)(25),[b,g]=(0,r.useState)(0),[f,j]=(0,r.useState)(!0),[v,y]=(0,r.useState)([]),[N,w]=(0,r.useState)(null),[S,C]=(0,r.useState)(""),[k,P]=(0,r.useState)(null),[A,D]=(0,r.useState)(""),[$,L]=(0,r.useState)(""),M={0:{label:"Lien Received",color:"bg-gray-200 text-gray-800",icon:"\uD83D\uDCE5",tooltip:"The lien has been received but not processed.",jsx:l.jsx(o.Z,{size:12})},1:{label:"Satisfy Submitted",color:"bg-yellow-200 text-yellow-800",icon:"\uD83D\uDCDD",tooltip:"Satisfy paperwork submitted but not sent yet.",jsx:l.jsx(c.Z,{size:12})},2:{label:"Satisfy Sent",color:"bg-blue-200 text-blue-800",icon:"\uD83D\uDCE4",tooltip:"Satisfy documents sent to lienholder.",jsx:l.jsx(d.Z,{size:12})},3:{label:"Satisfy Confirmed",color:"bg-green-200 text-green-800",icon:"✅",tooltip:"Lien has been satisfied and confirmed.",jsx:l.jsx(h.Z,{size:12})}},[z,E]=(0,r.useState)(null),[Z,R]=(0,r.useState)(!0),F=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{j(!0);try{let t=new URLSearchParams({page:String(u),limit:String(m),search:A});null!==k&&t.append("status",k.toString());let l=await fetch(`http://localhost:4000/liens/getall?readFlag=${e??!1}&${t.toString()}`,{method:"GET",credentials:"include"});if(!l.ok)throw Error("Failed to fetch liens");let r=await l.json();s(r.liens),g(r.totalPages)}catch(e){console.error("Error fetching liens:",e)}finally{j(!1)}})()},[e,u,m,k,A]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{D($),x(1)},300);return()=>clearTimeout(e)},[$]);let V=e=>{y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},G=v.length>0&&v.length===t.length,I=v.length>1;(0,r.useEffect)(()=>{F.current&&(F.current.indeterminate=v.length>0&&!G)},[v,G]);let T=(0,n.useRouter)(),U=[...t].sort((e,t)=>{if(!z)return 0;let s=(e,t)=>{switch(t){case"vehicle.vin":return e.vehicle.vin;case"vehicle.make":return e.vehicle.make;case"vehicle.model":return e.vehicle.model;case"vehicle.year":return e.vehicle.year;default:return e[t]}},l=s(e,z),r=s(t,z);return"number"==typeof l&&"number"==typeof r?Z?l-r:r-l:Z?String(l).localeCompare(String(r)):String(r).localeCompare(String(l))}),_=(0,n.usePathname)();return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mt-6",children:[l.jsx("h2",{className:"text-lg font-bold mb-4",children:e?"Viewed Liens":"New Liens"}),null!==k&&l.jsx("div",{className:"flex justify-start mb-1",children:l.jsx("button",{onClick:()=>P(null),className:"text-sm text-blue-600 hover:underline",children:"Clear status filter"})}),(0,l.jsxs)("div",{className:"flex justify-end mb-4",children:[l.jsx("label",{className:"text-sm mr-2 self-center",children:"Items per page"}),(0,l.jsxs)("select",{value:m,onChange:e=>{p(Number(e.target.value)),x(1)},className:"border rounded px-2 py-1 text-sm border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:25,children:"25"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"})]})]}),(0,l.jsxs)("table",{className:"min-w-full text-sm text-left",children:[l.jsx("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-100 text-xs uppercase text-gray-600",children:[l.jsx("th",{className:"p-2",children:l.jsx("input",{ref:F,type:"checkbox",checked:G,onChange:()=>{G?y([]):y(t.map(e=>e.id))},onClick:e=>e.stopPropagation()})}),(0,l.jsxs)("th",{onClick:()=>{"lien.createdAt"===z?R(!Z):(E("lien.createdAt"),R(!0))},className:"p-2 cursor-pointer select-none",children:["Created At"," ","lien.createdAt"===z&&(Z?"▲":"▼")]}),(0,l.jsxs)("th",{onClick:()=>{"lien.rank"===z?R(!Z):(E("lien.rank"),R(!0))},className:"p-2 cursor-pointer select-none text-center",children:["Lien Rank ","lien.rank"===z&&(Z?"▲":"▼")]}),l.jsx("th",{onClick:()=>{"vehicle.vin"===z?R(!Z):(E("vehicle.vin"),R(!0))},className:"p-2 cursor-pointer select-none",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("span",{children:["VIN ","vehicle.vin"===z&&(Z?"▲":"▼")]}),l.jsx("input",{type:"text",placeholder:"[...]",value:$,onChange:e=>{e.stopPropagation(),L(e.target.value)},onClick:e=>e.stopPropagation(),className:"bg-gray-100 rounded px-2 py-0.5 text-sm border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,l.jsxs)("th",{onClick:()=>{"vehicle.year"===z?R(!Z):(E("vehicle.year"),R(!0))},className:"p-2 cursor-pointer select-none",children:["Year ","vehicle.year"===z&&(Z?"▲":"▼")]}),(0,l.jsxs)("th",{onClick:()=>{"vehicle.make"===z?R(!Z):(E("vehicle.make"),R(!0))},className:"p-2 cursor-pointer select-none",children:["Make ","vehicle.make"===z&&(Z?"▲":"▼")]}),(0,l.jsxs)("th",{onClick:()=>{"vehicle.model"===z?R(!Z):(E("vehicle.model"),R(!0))},className:"p-2 cursor-pointer select-none",children:["Model ","vehicle.model"===z&&(Z?"▲":"▼")]}),(0,l.jsxs)("th",{onClick:()=>{"lien.status"===z?R(!Z):(E("lien.status"),R(!0))},className:"p-2 cursor-pointer select-none",children:["Status ","lien.status"===z&&(Z?"▲":"▼")]}),l.jsx("th",{className:"p-2",children:"Actions"})]})}),l.jsx("tbody",{children:U.map(e=>(0,l.jsxs)("tr",{onClick:()=>T.push(`${_}/liens/${e.id}`),className:"border-b hover:bg-blue-100 transition-colors",children:[l.jsx("td",{className:"p-2",children:l.jsx("input",{type:"checkbox",checked:v.includes(e.id),onChange:()=>V(e.id),onClick:e=>e.stopPropagation()})}),l.jsx("td",{className:"p-2",children:(0,i.WU)(new Date(e.createdAt),"M/d/yyyy p")}),l.jsx("td",{className:"p-2 text-center",children:e.rank.toString()}),l.jsx("td",{className:"p-2",children:l.jsx(a.default,{href:`${_}/liens/${e.id}`,className:"text-blue-600 hover:underline",children:e.vehicle.vin})}),l.jsx("td",{className:"p-2 text-center",children:e.vehicle.year}),l.jsx("td",{className:"p-2",children:e.vehicle.make}),l.jsx("td",{className:"p-2",children:e.vehicle.model}),l.jsx("td",{className:"p-2",children:(0,l.jsxs)("button",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 cursor-pointer hover:opacity-90 transition ${M[e.status]?.color||"bg-red-200 text-red-800"}`,title:M[e.status]?.tooltip||"Unknown status",onClick:t=>{t.stopPropagation(),P(t=>t===e.status?null:e.status),console.log("Filter by status:",e.status)},children:[l.jsx("span",{children:M[e.status]?.jsx}),l.jsx("span",{children:M[e.status]?.label})]})}),l.jsx("td",{className:"p-2",children:!I&&(0,l.jsxs)("div",{className:"space-x-2",children:[l.jsx("button",{onClick:t=>{t.stopPropagation(),w(e.id)},className:"text-blue-600 hover:underline text-xs",children:"Request"}),l.jsx("button",{onClick:t=>{t.stopPropagation(),w(e.id)},className:"text-green-600 hover:underline text-xs",children:"Satisfy"}),l.jsx("button",{onClick:t=>{t.stopPropagation(),w(e.id)},className:"text-red-600 hover:underline text-xs",children:"Report"})]})})]},e.id))})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",u," of ",b]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>x(e=>Math.max(e-1,1)),disabled:1===u,className:"px-3 py-1 bg-gray-200 rounded text-sm disabled:opacity-50",children:"Previous"}),l.jsx("button",{onClick:()=>x(e=>Math.min(e+1,b)),disabled:u===b,className:"px-3 py-1 bg-gray-200 rounded text-sm disabled:opacity-50",children:"Next"})]})]}),I&&(0,l.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[l.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700",children:"Satisfy Selected"}),l.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700",children:"Request Selected"})]}),null!==N&&(0,l.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded border",children:[l.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Enter Mailing Address"}),l.jsx("textarea",{className:"w-full text-sm p-2 border rounded",rows:3,value:S,onChange:e=>C(e.target.value),placeholder:"123 Main St, Orlando, FL 32801"}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx("input",{id:"useDealer",type:"checkbox",className:"mr-2"}),l.jsx("label",{htmlFor:"useDealer",className:"text-sm text-gray-600",children:"Use dealer mailing address"})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-3",children:[l.jsx("button",{className:"bg-blue-600 text-white text-sm px-3 py-1 rounded hover:bg-blue-700",children:"Submit"}),l.jsx("button",{onClick:()=>w(null),className:"text-sm text-gray-500 hover:text-black",children:"Cancel"})]})]})]})}},6339:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>r,default:()=>n});let l=(0,s(6843).createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\app\dashboard\layout.tsx`),{__esModule:r,$$typeof:a}=l,n=l.default},6408:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,metadata:()=>x});var l=s(5036);s(7633);var r=s(6843);let a=(0,r.createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\app\context\AuthContext.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,r.createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\app\context\AuthContext.tsx#AuthProvider`);(0,r.createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\app\context\AuthContext.tsx#useAuth`);let c=(0,r.createProxy)(String.raw`C:\Projects\VSCode\dmvelt\frontend\components\GoogleMapsLoader.tsx`),{__esModule:d,$$typeof:h}=c,u=c.default,x={title:"Next.js",description:"Generated by Next.js"};function m({children:e}){return l.jsx("html",{lang:"en",children:(0,l.jsxs)("body",{children:[l.jsx(u,{}),l.jsx(o,{children:e})]})})}},7633:()=>{}};